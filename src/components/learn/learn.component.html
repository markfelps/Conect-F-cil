<div class="max-w-4xl mx-auto">
  <div class="text-center mb-12">
    <h1 class="text-3xl md:text-4xl font-extrabold text-primary dark:text-primary-light">Dicas de Segurança</h1>
    <p class="mt-4 text-lg text-neutral-800 dark:text-neutral-200">Aprenda a se proteger online com passos simples e fáceis.</p>
  </div>

  @if (loading()) {
    <div class="flex justify-center items-center p-8">
      <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-secondary"></div>
      <p class="ml-4 text-lg">Carregando dicas...</p>
    </div>
  } @else if (error()) {
    <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-md dark:bg-red-900 dark:text-red-200" role="alert">
      <p class="font-bold">Erro</p>
      <p>{{ error() }}</p>
    </div>
  } @else {
    <div class="space-y-6">
      @for (tip of tips(); track tip.title) {
        <div class="bg-white dark:bg-neutral-800 p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 flex flex-col sm:flex-row items-start sm:space-x-6">
          <div class="flex-shrink-0 bg-primary-light p-4 rounded-full self-center mb-4 sm:mb-0">
             @switch(tip.icon) {
                @case('key') {
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10 text-primary-dark">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 5.25a3 3 0 0 1 3 3m3 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM4.5 9.75v.75a3 3 0 0 0 3 3h3a3 3 0 0 0 3-3v-.75A3 3 0 0 0 10.5 6.75h-3A3 3 0 0 0 4.5 9.75Z" />
                  </svg>
                }
                @case('shield-check') {
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10 text-primary-dark">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286Zm0 13.036h.008v.017h-.008v-.017Z" />
                  </svg>
                }
                 @case('lock-closed') {
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10 text-primary-dark">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z" />
                  </svg>
                }
                @default {
                   <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10 text-primary-dark">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
                  </svg>
                }
             }
          </div>
          <div class="flex-grow">
            <h3 class="text-2xl font-bold text-primary dark:text-primary-light mb-2">{{ tip.title }}</h3>
            <p class="text-neutral-800 dark:text-neutral-200 text-lg">{{ tip.description }}</p>
          </div>
          <button (click)="toggleSpeak(tip, $event)" 
                  [class]="speakingTip() === tip.title ? 'bg-accent text-white' : 'bg-primary-light text-primary-dark dark:bg-neutral-700 dark:text-primary-light'"
                  class="self-center sm:self-start mt-4 sm:mt-0 flex-shrink-0 flex items-center space-x-2 font-bold py-2 px-4 rounded-full transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z" />
            </svg>
            <span>{{ speakingTip() === tip.title ? 'Parar' : 'Ouvir' }}</span>
          </button>
        </div>
      }
    </div>
  }
</div>